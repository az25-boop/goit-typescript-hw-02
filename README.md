Migrate JS -> TS –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º

–ß–∏ –±—É–≤–∞–ª–æ —É –≤–∞—Å —Ç–∞–∫–µ, —â–æ –≤–∏ –ø–∏—à–µ—Ç–µ –∫–æ–¥ –Ω–∞ JavaScript, –∞ –ø–æ—Ç—ñ–º –¥–∏–≤–∏—Ç–µ—Å—å –Ω–∞ –Ω—å–æ–≥–æ
—ñ –¥—É–º–∞—î—Ç–µ: "–ß–æ–º—É –Ω–µ TypeScript?" ü§î
–Ü –Ω–∞—á–µ–±—Ç–æ –≤–∂–µ –Ω–∞–ø–∏—Å–∞–ª–∏ –≤–µ–ª–∏–∫—É —á–∞—Å—Ç–∏–Ω—É –∫–æ–¥—É,
—Ç–æ–º—É –Ω–µ —Ö–æ—á–µ—Ç—å—Å—è –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –Ω–∞–∑–∞–¥ —ñ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –∑–∞–Ω–æ–≤–æ.
–ü–æ—á–∏–Ω–∞—î—Ç–µ —à—É–∫–∞—Ç–∏ —Å–ø–æ—Å–æ–±–∏ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥—É –∑ –æ–¥–Ω–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç–∞ –Ω–∞ —ñ–Ω—à–∏–π?
–ó–Ω–∞–π–æ–º–µ –≤—ñ–¥—á—É—Ç—Ç—è!

–£ –º–µ–Ω–µ –±—É–≤ —Å–∞–º–µ —Ç–∞–∫–∏–π –¥–æ—Å–≤—ñ–¥, —ñ —è –∑–Ω–∞–π—à–æ–≤ –∫—ñ–ª—å–∫–∞ –ø—Ä–æ—Å—Ç–∏—Ö —ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏—Ö –∫—Ä–æ–∫—ñ–≤
–¥–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –º—ñ–≥—Ä–∞—Ü—ñ—ó –ø—Ä–æ–µ–∫—Ç—É –∑ JavaScript –Ω–∞ TypeScript.
–î–∞–≤–∞–π—Ç–µ –ø–æ–¥—ñ–ª—é—Å—è —Ü–∏–º–∏ –ø–æ—Ä–∞–¥–∞–º–∏ –∑ –≤–∞–º–∏. –ü–æ—ó—Ö–∞–ª–∏! üöÄ
–ú—ñ–≥—Ä–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É –Ω–∞ TypeScript

–ü–µ—Ä–µ—Ö—ñ–¥ –∑ JavaScript –Ω–∞ TypeScript –º–æ–∂–µ –∑–Ω–∞—á–Ω–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –≤–∞—à –∫–æ–¥, –∑
–∞–±–µ–∑–ø–µ—á—É—é—á–∏ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—é —Ç–∞ –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ —â–µ –Ω–∞ –µ—Ç–∞–ø—ñ —Ä–æ–∑—Ä–æ–±–∫–∏.
–û—Å—å –ø–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø–ª–∞–Ω, —è–∫ –∑–¥—ñ–π—Å–Ω–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –ø—Ä–æ—î–∫—Ç—É.

–ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è TypeScript
–°–ø–æ—á–∞—Ç–∫—É –≤—Å—Ç–∞–Ω–æ–≤–∏–º–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–∫–µ—Ç–∏:
npm install -D typescript @types/react @types/react-dom

–ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—ñ–≤ —É package.json

–î–æ–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–±—ñ—Ä–∫–∏ –ø—Ä–æ—î–∫—Ç—É:
"scripts": {
"build": "tsc && vite build"
}

–ö—Ä–æ–∫ 3: –ó–º—ñ–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó Vite
–ü–µ—Ä–µ–π–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó Vite –∑ vite.config.js –Ω–∞ vite.config.ts
—Ç–∞ –∑–º—ñ–Ω—ñ—Ç—å —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –≤–∞—à–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª—É –∑ main.jsx –Ω–∞ main.tsx.

–ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è main.tsx
–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ main.tsx –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:
import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';

ReactDOM.createRoot(document.getElementById("root") as HTMLElement).render(
<React.StrictMode>
<App />
</React.StrictMode>
);

–ö—Ä–æ–∫ 5: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ TypeScript
tsconfig.json

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª tsconfig.json —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É:

{
"compilerOptions": {
"target": "ESNext",
"useDefineForClassFields": true,
"lib": ["DOM", "DOM.Iterable", "ESNext"],
"allowJs": true,
"skipLibCheck": true,
"esModuleInterop": false,
"allowSyntheticDefaultImports": true,
"strict": true,
"forceConsistentCasingInFileNames": true,
"module": "ESNext",
"moduleResolution": "Node",
"resolveJsonModule": true,
"isolatedModules": true,
"noEmit": true,
"jsx": "react-jsx"
},
"include": ["src"],
"references": [{ "path": "./tsconfig.node.json" }]
}

tsconfig.node.json

–°—Ç–≤–æ—Ä—ñ—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ñ–∞–π–ª tsconfig.node.json:

{
"compilerOptions": {
"composite": true,
"module": "ESNext",
"moduleResolution": "Node",
"allowSyntheticDefaultImports": true
},
"include": ["vite.config.ts"]
}

–ö—Ä–æ–∫ 6: –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É vite-env.d.ts
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª vite-env.d.ts —É –ø–∞–ø—Ü—ñ src –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –≤–º—ñ—Å—Ç–æ–º:
/// <reference types="vite/client" />

–ö—Ä–æ–∫ 7: –ó–º—ñ–Ω–∞ index.html
–ó–º—ñ–Ω—ñ—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–∫—Ä–∏–ø—Ç —É index.html:

<script type="module" src="/src/main.tsx"></script>

–í–∏–∫–æ–Ω—É—é—á–∏ —Ü—ñ –∫—Ä–æ–∫–∏, –≤–∏ –∑–º–æ–∂–µ—Ç–µ –ø–ª–∞–≤–Ω–æ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –º—ñ–≥—Ä—É–≤–∞—Ç–∏ —Å–≤—ñ–π –ø—Ä–æ—î–∫—Ç
–∑ JavaScript –Ω–∞ TypeScript.

–£—Å–ø—ñ—Ö—ñ–≤ —É –≤–∞—à—ñ–π –º—ñ–≥—Ä–∞—Ü—ñ—ó! üöÄ
